<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ  Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¸Ø§Ø¦Ø±</title>
    <style>
        /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(to bottom, #f8f9fa, #e9ecef);
            color: #2c3e50;
            direction: rtl;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 15px;
        }

        /* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© */
        .header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            gap: 15px;
        }

        .back-btn {
            background: linear-gradient(to bottom, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            border: 2px solid #e74c3c;
            min-width: 120px;
            height: 45px;
            font-size: 14pt !important;
        }

        .back-btn:hover {
            background: linear-gradient(to bottom, #c0392b, #a93226);
            border: 2px solid #c0392b;
        }

        .title {
            background: linear-gradient(to right, #2c3e50, #3498db);
            color: white;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            flex: 1;
            border: 2px solid #2980b9;
            margin: 5px;
            font-size: 20pt !important;
        }

        /* Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
        .stats-container {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .stat-card {
            background: linear-gradient(to right, #27ae60, #2ecc71);
            color: white;
            padding: 12px;
            border-radius: 12px;
            flex: 1;
            text-align: center;
            border: 2px solid #27ae60;
            font-weight: bold;
            font-size: 16pt !important;
        }

        /* Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        .form-container {
            background: white;
            border: 2px solid #bdc3c7;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            background: linear-gradient(to bottom, #ffffff, #f8f9fa);
        }

        .form-columns {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
        }

        .column {
            border-radius: 10px;
            padding: 12px;
        }

        .column:nth-child(1) {
            border: 2px solid #3498db;
            background: linear-gradient(to bottom, #f8f9fa, #e9ecef);
        }

        .column:nth-child(2) {
            border: 2px solid #e67e22;
            background: linear-gradient(to bottom, #fef9e7, #fcf3cf);
        }

        .column:nth-child(3) {
            border: 3px solid #8e44ad;
            background: linear-gradient(to bottom, #f4ecf7, #e8daef);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .column:nth-child(4) {
            border: 2px solid #1abc9c;
            background: linear-gradient(to bottom, #e8f6f3, #d1f2eb);
        }

        .column:nth-child(5) {
            border: 3px solid #f39c12;
            background: linear-gradient(to bottom, #fef5e7, #fdebd0);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .column h3 {
            margin-bottom: 15px;
            text-align: center;
            color: #2c3e50;
            border-bottom: 2px solid currentColor;
            padding-bottom: 5px;
            font-size: 16pt !important;
        }

        .column:nth-child(3) h3 {
            color: #8e44ad;
            border-bottom: 3px solid #8e44ad;
            font-size: 16pt !important;
            padding-bottom: 8px;
        }

        .column:nth-child(5) h3 {
            color: #f39c12;
            border-bottom: 3px solid #f39c12;
            font-size: 16pt !important;
            padding-bottom: 8px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #2c3e50;
            background: linear-gradient(to bottom, #34495e, #2c3e50);
            padding: 12px 15px;
            border-radius: 6px;
            border: 1px solid #2c3e50;
            color: white;
            font-size: 14pt !important;
        }

        .form-group label[for="maleQty"],
        .form-group label[for="femaleQty"] {
            background: linear-gradient(to bottom, #8e44ad, #9b59b6) !important;
            border: 2px solid #8e44ad !important;
            color: white;
            font-weight: bold;
            padding: 12px 15px;
            border-radius: 8px;
            font-size: 14pt !important;
        }

        .form-group label[for="unitPrice"] {
            background: linear-gradient(to bottom, #f39c12, #e67e22) !important;
            border: 2px solid #f39c12 !important;
            color: white;
            font-weight: bold;
            padding: 12px 15px;
            border-radius: 8px;
            font-size: 14pt !important;
        }

        /* ØªÙƒØ¨ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù„ØªØµØ¨Ø­ Ø¨Ù†ÙØ³ Ø­Ø¬Ù… Ø­Ù‚Ù„ Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ */
        .form-control {
            width: 100%;
            padding: 12px;
            border: 2px solid #dcdde1;
            border-radius: 8px;
            font-size: 16pt !important;
            background-color: white;
            color: #2c3e50;
            height: 55px;
            font-weight: bold;
        }

        .form-control:focus {
            border-color: #3498db;
            background-color: #ecf0f1;
            outline: none;
        }

        /* ØªÙƒØ¨ÙŠØ± Ø®Ø· Ø­Ù‚Ù„ Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ */
        #capacity {
            font-size: 16pt !important;
            font-weight: bold !important;
            color: #16a085 !important;
            background: linear-gradient(to bottom, #e8f6f3, #d1f2eb) !important;
            border: 3px solid #1abc9c !important;
            text-align: center;
            padding: 12px !important;
            height: 55px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        #totalQuantity {
            background-color: #e8f6f3;
            border: 2px solid #1abc9c;
            color: #16a085;
            font-weight: bold;
            font-size: 16pt !important;
        }

        /* ØªØ­Ø³ÙŠÙ† Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ */
        #maleQty, #femaleQty {
            border: 2px solid #9b59b6 !important;
            background: linear-gradient(to bottom, #f4ecf7, #e8daef) !important;
            font-weight: bold;
            text-align: center;
            padding: 12px;
            font-size: 16pt !important;
            color: #8e44ad;
            height: 55px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        #maleQty:focus, #femaleQty:focus {
            border-color: #8e44ad !important;
            background: linear-gradient(to bottom, #e8daef, #d2b4de) !important;
            outline: none;
        }

        /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± Ø­Ù‚Ù„ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙØ±Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
        #unitPrice {
            border: 2px solid #f39c12 !important;
            background: linear-gradient(to bottom, #fef5e7, #fdebd0) !important;
            font-weight: bold;
            text-align: center;
            padding: 12px;
            font-size: 16pt !important;
            color: #e67e22;
            height: 55px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        #unitPrice:focus {
            border-color: #e67e22 !important;
            background: linear-gradient(to bottom, #fdebd0, #fad7a0) !important;
            outline: none;
        }

        /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø²ÙŠØ§Ø¯Ø© ÙˆØ§Ù„Ù†Ù‚ØµØ§Ù† ÙÙŠ Ø§Ù„Ø¹Ø¯Ø§Ø¯ */
        #unitPrice::-webkit-inner-spin-button,
        #unitPrice::-webkit-outer-spin-button {
            height: 35px;
            opacity: 1;
            margin: 0 5px;
        }

        #totalPrice {
            background: linear-gradient(to bottom, #e8f4ff, #d6eaf8) !important;
            border: 2px solid #3498db !important;
            color: #2980b9;
            font-weight: bold;
            text-align: center;
            padding: 12px;
            font-size: 16pt !important;
            height: 55px;
            border-radius: 8px;
        }

        #dayName {
            background: linear-gradient(to bottom, #2ecc71, #27ae60);
            border: 2px solid #27ae60;
            color: white;
            font-weight: bold;
            text-align: center;
            font-size: 16pt !important;
        }

        .alert-label {
            background: linear-gradient(to bottom, #ff6b6b, #ee5a52);
            color: white;
            padding: 12px;
            border: 2px solid #e74c3c;
            border-radius: 8px;
            margin-top: 5px;
            text-align: center;
            font-weight: bold;
            font-size: 14pt !important;
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª */
        .buttons-container {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            font-size: 14pt !important;
            min-height: 55px;
            transition: all 0.3s ease;
        }

        .btn-new {
            background: linear-gradient(to bottom, #3498db, #2980b9);
            color: white;
            border: 2px solid #3498db;
        }

        .btn-new:hover {
            background: linear-gradient(to bottom, #2980b9, #3498db);
        }

        .btn-save {
            background: linear-gradient(to bottom, #27ae60, #219a52);
            color: white;
            border: 2px solid #27ae60;
        }

        .btn-save:hover {
            background: linear-gradient(to bottom, #219a52, #27ae60);
        }

        /* Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª */
        .table-container {
            background: white;
            border: 2px solid #34495e;
            border-radius: 10px;
            padding: 15px;
        }

        .table-container h2 {
            background: linear-gradient(to right, #2c3e50, #34495e);
            color: white;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 15px;
            border: 2px solid #2c3e50;
            font-size: 18pt !important;
        }

        .barns-table {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            font-size: 12pt !important;
        }

        .barns-table th {
            background: linear-gradient(to bottom, #3498db, #2980b9);
            color: white;
            padding: 12px;
            text-align: center;
            font-weight: bold;
            border: none;
            font-size: 12pt !important;
        }

        .barns-table td {
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid #ecf0f1;
            font-size: 11pt !important;
        }

        .barns-table tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        .barns-table tr:hover {
            background-color: #ecf0f1;
        }

        /* Ø§Ù„ØªØ¬Ø§ÙˆØ¨ Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
        @media (max-width: 1200px) {
            .form-columns {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .form-control,
            #capacity,
            #maleQty,
            #femaleQty,
            #unitPrice,
            #totalPrice,
            #dayName {
                font-size: 14pt !important;
                height: 50px;
                padding: 10px;
            }
            
            .btn {
                font-size: 12pt !important;
                min-height: 50px;
            }
        }

        @media (max-width: 768px) {
            .form-columns {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .buttons-container {
                flex-direction: column;
            }
            
            .form-control,
            #capacity,
            #maleQty,
            #femaleQty,
            #unitPrice,
            #totalPrice,
            #dayName {
                font-size: 12pt !important;
                height: 45px;
                padding: 8px;
            }
            
            .btn {
                font-size: 11pt !important;
                min-height: 45px;
            }
            
            .column h3,
            .column:nth-child(3) h3,
            .column:nth-child(5) h3 {
                font-size: 14pt !important;
            }
            
            .form-group label,
            .form-group label[for="maleQty"],
            .form-group label[for="femaleQty"],
            .form-group label[for="unitPrice"] {
                font-size: 12pt !important;
                padding: 10px 12px;
            }
        }

        @media (max-width: 480px) {
            .form-columns {
                grid-template-columns: 1fr;
            }
            
            .header {
                flex-direction: column;
            }
            
            .stats-container {
                flex-direction: column;
            }
            
            .form-control,
            #capacity,
            #maleQty,
            #femaleQty,
            #unitPrice,
            #totalPrice,
            #dayName {
                font-size: 11pt !important;
                height: 40px;
                padding: 6px;
            }
            
            .btn {
                font-size: 10pt !important;
                min-height: 40px;
            }
            
            .column h3,
            .column:nth-child(3) h3,
            .column:nth-child(5) h3 {
                font-size: 12pt !important;
            }
            
            .form-group label,
            .form-group label[for="maleQty"],
            .form-group label[for="femaleQty"],
            .form-group label[for="unitPrice"] {
                font-size: 11pt !important;
                padding: 8px 10px;
            }
            
            .table-container h2 {
                font-size: 14pt !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
        <header class="header">
            <button id="backBtn" class="back-btn">â¬… Ø§Ù„Ø±Ø¬ÙˆØ¹</button>
            <h1 class="title">ğŸ  Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¸Ø§Ø¦Ø±</h1>
        </header>

        <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
        <div class="stats-container">
            <div class="stat-card">
                <span id="totalBarns">Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¸Ø§Ø¦Ø±: 0</span>
            </div>
            <div class="stat-card">
                <span id="totalAnimals">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª: 0</span>
            </div>
        </div>

        <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
        <div class="form-container">
            <div class="form-columns">
                <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙˆÙ„: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø¸ÙŠØ±Ø© -->
                <div class="column">
                    <h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø¸ÙŠØ±Ø©</h3>
                    <div class="form-group">
                        <label for="barnNumber">Ø±Ù‚Ù… Ø§Ù„Ø­Ø¸ÙŠØ±Ø©:</label>
                        <select id="barnNumber" class="form-control">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="barnName">Ø§Ø³Ù… Ø§Ù„Ø­Ø¸ÙŠØ±Ø©:</label>
                        <input type="text" id="barnName" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="capacity">Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨:</label>
                        <input type="number" id="capacity" class="form-control" readonly>
                    </div>
                </div>

                <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø«Ø§Ù†ÙŠ: Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª -->
                <div class="column">
                    <h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª</h3>
                    <div class="form-group">
                        <label for="animalType">Ø§Ù„ØµÙ†Ù:</label>
                        <select id="animalType" class="form-control">
                            <option value="Ø£ØºÙ†Ø§Ù…">Ø£ØºÙ†Ø§Ù…</option>
                            <option value="Ø£Ø¨Ù‚Ø§Ø±">Ø£Ø¨Ù‚Ø§Ø±</option>
                            <option value="Ù…Ø§Ø¹Ø²">Ù…Ø§Ø¹Ø²</option>
                            <option value="Ø¬Ù…Ø§Ù„">Ø¬Ù…Ø§Ù„</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="gender">Ø§Ù„Ù†ÙˆØ¹:</label>
                        <select id="gender" class="form-control">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="location">Ø§Ù„Ù…ÙˆÙ‚Ø¹:</label>
                        <select id="location" class="form-control">
                            <option value="Ø´Ù…Ø§Ù„ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©">Ø´Ù…Ø§Ù„ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</option>
                            <option value="Ø¬Ù†ÙˆØ¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©">Ø¬Ù†ÙˆØ¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</option>
                            <option value="Ø´Ø±Ù‚ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©">Ø´Ø±Ù‚ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</option>
                            <option value="ØºØ±Ø¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©">ØºØ±Ø¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</option>
                            <option value="ÙˆØ³Ø· Ø§Ù„Ù…Ø²Ø±Ø¹Ø©">ÙˆØ³Ø· Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</option>
                        </select>
                    </div>
                </div>

                <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø«Ø§Ù„Ø«: Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯ -->
                <div class="column">
                    <h3>Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯</h3>
                    <div class="form-group">
                        <label for="maleQty">Ø¹Ø¯Ø¯ Ø§Ù„Ø°ÙƒÙˆØ±:</label>
                        <input type="number" id="maleQty" class="form-control" min="0" value="0">
                    </div>
                    <div class="form-group">
                        <label for="femaleQty">Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ù†Ø§Ø«:</label>
                        <input type="number" id="femaleQty" class="form-control" min="0" value="0">
                    </div>
                    <div class="form-group">
                        <label for="totalQuantity">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</label>
                        <input type="number" id="totalQuantity" class="form-control" readonly>
                    </div>
                </div>

                <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø±Ø§Ø¨Ø¹: Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® ÙˆØ§Ù„Ù…Ø´Ø±Ù -->
                <div class="column">
                    <h3>Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® ÙˆØ§Ù„Ù…Ø´Ø±Ù</h3>
                    <div class="form-group">
                        <label for="hijriDate">Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ:</label>
                        <input type="text" id="hijriDate" class="form-control" readonly>
                    </div>
                    <div class="form-group">
                        <label for="gregorianDate">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø´Ø±Ø§Ø¡:</label>
                        <input type="date" id="gregorianDate" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="dayName">Ø§Ø³Ù… Ø§Ù„ÙŠÙˆÙ…:</label>
                        <input type="text" id="dayName" class="form-control" readonly>
                    </div>
                    <div class="form-group">
                        <label for="supervisor">Ø§Ù„Ù…Ø´Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©:</label>
                        <select id="supervisor" class="form-control">
                            <option value="Ø¹ÙŠØ³Ù‰ Ø´Ø§ÙŠØ¹">Ø¹ÙŠØ³Ù‰ Ø´Ø§ÙŠØ¹</option>
                            <option value="Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯">Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯</option>
                            <option value="Ø®Ø§Ù„Ø¯ Ø³Ø§Ù„Ù…">Ø®Ø§Ù„Ø¯ Ø³Ø§Ù„Ù…</option>
                            <option value="Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ">Ø£Ø­Ù…Ø¯ Ø¹Ù„ÙŠ</option>
                        </select>
                    </div>
                </div>

                <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø®Ø§Ù…Ø³: Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„ØªÙ†Ø¨ÙŠÙ‡ -->
                <div class="column">
                    <h3>Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„ØªÙ†Ø¨ÙŠÙ‡</h3>
                    <div class="form-group">
                        <label for="unitPrice">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙØ±Ø¯ÙŠ:</label>
                        <input type="number" id="unitPrice" class="form-control" min="1" step="1" value="1" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙØ±Ø¯ÙŠ...">
                    </div>
                    <div class="form-group">
                        <label for="totalPrice">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø¹Ø±:</label>
                        <input type="text" id="totalPrice" class="form-control" readonly placeholder="Ø³ÙŠØªÙ… Ø­Ø³Ø§Ø¨Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹">
                    </div>
                    <div id="alertLabel" class="alert-label" style="display: none;"></div>
                </div>
            </div>
        </div>

        <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª -->
        <div class="buttons-container">
            <button id="btnNew" class="btn btn-new">ğŸ†• Ø¬Ø¯ÙŠØ¯</button>
            <button id="btnSave" class="btn btn-save">ğŸ’¾ Ø­ÙØ¸</button>
        </div>

        <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
        <div class="table-container">
            <h2>ğŸ“Š Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¸Ø§Ø¦Ø±</h2>
            <table id="barnsTable" class="barns-table">
                <thead>
                    <tr>
                        <th>Ø±Ù‚Ù… Ø§Ù„Ø­Ø¸ÙŠØ±Ø©</th>
                        <th>Ø§Ø³Ù… Ø§Ù„Ø­Ø¸ÙŠØ±Ø©</th>
                        <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø´Ø±Ø§Ø¡</th>
                        <th>Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨</th>
                        <th>Ø§Ù„ØµÙ†Ù</th>
                        <th>Ø§Ù„ÙŠÙˆÙ…/Ø§Ù„Ø´Ù‡Ø±</th>
                        <th>Ø§Ù„Ù†ÙˆØ¹</th>
                        <th>Ø§Ù„Ù…ÙˆÙ‚Ø¹</th>
                        <th>Ø¹Ø¯Ø¯ Ø°ÙƒÙˆØ±</th>
                        <th>Ø¹Ø¯Ø¯ Ø¥Ù†Ø§Ø«</th>
                        <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
                        <th>Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙØ±Ø¯ÙŠ</th>
                        <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø¹Ø±</th>
                    </tr>
                </thead>
                <tbody id="barnsTableBody">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        class BarnApp {
            constructor() {
                this.selectedId = null;
                this.barns = JSON.parse(localStorage.getItem('barns')) || [];
                
                // Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª Ù„ÙƒÙ„ ØµÙ†Ù
                this.animalTypesMapping = {
                    "Ø£ØºÙ†Ø§Ù…": ["Ø­Ø±ÙŠ", "Ù†Ø¹ÙŠÙ…ÙŠ", "Ù†Ø¬Ø¯ÙŠ", "Ø´Ø§Ù…ÙŠ"],
                    "Ø£Ø¨Ù‚Ø§Ø±": ["Ø¨Ù„Ø¯ÙŠ", "Ù‡ÙˆÙ„Ø´ØªØ§ÙŠÙ†", "Ø³Ø§Ø­Ù„ÙŠ"], 
                    "Ù…Ø§Ø¹Ø²": ["Ø´Ø§Ù…ÙŠ", "Ø³Ø¹Ø§Ø¯ÙŠ", "Ø­ÙŠØ³ÙŠ"],
                    "Ø¬Ù…Ø§Ù„": ["Ù…Ø¬Ø§Ù‡ÙŠÙ…", "Ø´Ø¹Ù„", "ÙˆØ¶Ø­"]
                };
                
                // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¸Ø§Ø¦Ø±
                this.barnData = {
                    "1": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰", "location": "Ø´Ù…Ø§Ù„ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 200},
                    "2": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©", "location": "Ø¬Ù†ÙˆØ¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 300},
                    "3": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø©", "location": "Ø´Ø±Ù‚ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 200},
                    "4": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©", "location": "ØºØ±Ø¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 300},
                    "5": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø©", "location": "ÙˆØ³Ø· Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 200},
                    "6": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø³Ø§Ø¯Ø³Ø©", "location": "Ø´Ù…Ø§Ù„ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 300},
                    "7": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ø¹Ø©", "location": "Ø¬Ù†ÙˆØ¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 200},
                    "8": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø«Ø§Ù…Ù†Ø©", "location": "Ø´Ø±Ù‚ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 300},
                    "9": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„ØªØ§Ø³Ø¹Ø©", "location": "ØºØ±Ø¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 200},
                    "10": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø¹Ø§Ø´Ø±Ø©", "location": "ÙˆØ³Ø· Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 300},
                    "11": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø­Ø§Ø¯ÙŠØ© Ø¹Ø´Ø±", "location": "Ø´Ù…Ø§Ù„ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 200},
                    "12": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø¹Ø´Ø±", "location": "Ø¬Ù†ÙˆØ¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 300},
                    "13": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© Ø¹Ø´Ø±", "location": "Ø´Ø±Ù‚ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 200},
                    "14": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø© Ø¹Ø´Ø±", "location": "ØºØ±Ø¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 300},
                    "15": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø© Ø¹Ø´Ø±", "location": "ÙˆØ³Ø· Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 200},
                    "16": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø³Ø§Ø¯Ø³Ø© Ø¹Ø´Ø±", "location": "Ø´Ù…Ø§Ù„ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 300},
                    "17": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø³Ø§Ø¨Ø¹Ø© Ø¹Ø´Ø±", "location": "Ø¬Ù†ÙˆØ¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 200},
                    "18": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø«Ø§Ù…Ù†Ø© Ø¹Ø´Ø±", "location": "Ø´Ø±Ù‚ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 300},
                    "19": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„ØªØ§Ø³Ø¹Ø© Ø¹Ø´Ø±", "location": "ØºØ±Ø¨ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 200},
                    "20": {"name": "Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø§Ù„Ø¹Ø´Ø±ÙˆÙ†", "location": "ÙˆØ³Ø· Ø§Ù„Ù…Ø²Ø±Ø¹Ø©", "capacity": 300}
                };
                
                this.init();
            }
            
            init() {
                this.setupEventListeners();
                this.populateBarnNumbers();
                this.updateAnimalTypes();
                this.setAutoBarnNumber();
                this.updateHijriDate();
                this.updateDayName();
                this.updateStatistics();
                this.loadData();
            }
            
            setupEventListeners() {
                // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
                document.getElementById('btnNew').addEventListener('click', () => this.clearFields());
                document.getElementById('btnSave').addEventListener('click', () => this.saveBarn());
                
                // Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
                document.getElementById('animalType').addEventListener('change', () => this.updateAnimalTypes());
                document.getElementById('maleQty').addEventListener('input', () => this.updateTotals());
                document.getElementById('femaleQty').addEventListener('input', () => this.updateTotals());
                document.getElementById('unitPrice').addEventListener('input', () => this.updateTotals());
                document.getElementById('gregorianDate').addEventListener('change', () => {
                    this.updateHijriDate();
                    this.updateDayName();
                });
                document.getElementById('maleQty').addEventListener('input', () => this.checkCapacity());
                document.getElementById('femaleQty').addEventListener('input', () => this.checkCapacity());
                document.getElementById('capacity').addEventListener('input', () => this.checkCapacity());
                document.getElementById('barnNumber').addEventListener('change', () => this.updateBarnData());
                
                // Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹
                document.getElementById('backBtn').addEventListener('click', () => {
                    if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©ØŸ')) {
                        window.close();
                    }
                });
            }
            
            populateBarnNumbers() {
                const barnNumberSelect = document.getElementById('barnNumber');
                barnNumberSelect.innerHTML = '';
                
                for (let i = 1; i <= 20; i++) {
                    const option = document.createElement('option');
                    option.value = i;
                    option.textContent = i;
                    barnNumberSelect.appendChild(option);
                }
            }
            
            updateAnimalTypes() {
                const selectedAnimal = document.getElementById('animalType').value;
                const genderSelect = document.getElementById('gender');
                
                genderSelect.innerHTML = '';
                
                if (this.animalTypesMapping[selectedAnimal]) {
                    this.animalTypesMapping[selectedAnimal].forEach(type => {
                        const option = document.createElement('option');
                        option.value = type;
                        option.textContent = type;
                        genderSelect.appendChild(option);
                    });
                }
            }
            
            updateBarnData() {
                const selectedNumber = document.getElementById('barnNumber').value;
                
                if (this.barnData[selectedNumber]) {
                    document.getElementById('barnName').value = this.barnData[selectedNumber].name;
                    document.getElementById('capacity').value = this.barnData[selectedNumber].capacity;
                    
                    const locationSelect = document.getElementById('location');
                    for (let i = 0; i < locationSelect.options.length; i++) {
                        if (locationSelect.options[i].value === this.barnData[selectedNumber].location) {
                            locationSelect.selectedIndex = i;
                            break;
                        }
                    }
                } else {
                    try {
                        const barnNum = parseInt(selectedNumber);
                        const capacityValue = barnNum % 2 === 1 ? 200 : 300;
                        document.getElementById('capacity').value = capacityValue;
                        document.getElementById('barnName').value = `Ø§Ù„Ø­Ø¸ÙŠØ±Ø© ${selectedNumber}`;
                        
                        const locationSelect = document.getElementById('location');
                        locationSelect.selectedIndex = barnNum % 5;
                    } catch (error) {
                        document.getElementById('capacity').value = 200;
                    }
                }
            }
            
            updateTotals() {
                const maleQty = parseInt(document.getElementById('maleQty').value) || 0;
                const femaleQty = parseInt(document.getElementById('femaleQty').value) || 0;
                const totalQty = maleQty + femaleQty;
                
                document.getElementById('totalQuantity').value = totalQty;
                
                // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙØ±Ø¯ÙŠ ÙƒØ±Ù‚Ù… Ù…Ø¨Ø§Ø´Ø±Ø©
                const unitPrice = parseInt(document.getElementById('unitPrice').value) || 0;
                const totalPrice = unitPrice * totalQty;
                
                document.getElementById('totalPrice').value = totalPrice.toLocaleString('ar-EG') + ' Ø±ÙŠØ§Ù„';
            }
            
            updateHijriDate() {
                const gregorianDate = new Date(document.getElementById('gregorianDate').value);
                if (!isNaN(gregorianDate.getTime())) {
                    const hijriDate = this.convertToHijri(gregorianDate);
                    document.getElementById('hijriDate').value = hijriDate;
                }
            }
            
            convertToHijri(gregorianDate) {
                // ØªØ­ÙˆÙŠÙ„ Ù…Ø¨Ø³Ø· Ù„Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ (Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙØ¹Ù„ÙŠØŒ ÙŠÙØ¶Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© Ù…ØªØ®ØµØµØ©)
                const year = gregorianDate.getFullYear();
                const month = gregorianDate.getMonth() + 1;
                const day = gregorianDate.getDate();
                
                // ØªØ­ÙˆÙŠÙ„ ØªÙ‚Ø±ÙŠØ¨ÙŠ (Ù‡Ø°Ù‡ Ù…Ø¬Ø±Ø¯ Ù…Ø«Ø§Ù„ØŒ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ ÙŠØªØ·Ù„Ø¨ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ù…Ø¹Ù‚Ø¯Ø©)
                const hijriYear = Math.round((year - 622) * (33/32));
                const hijriMonth = month;
                const hijriDay = day;
                
                return `${hijriYear}/${hijriMonth.toString().padStart(2, '0')}/${hijriDay.toString().padStart(2, '0')}`;
            }
            
            updateDayName() {
                const gregorianDate = new Date(document.getElementById('gregorianDate').value);
                if (!isNaN(gregorianDate.getTime())) {
                    const dayName = this.getDayNameArabic(gregorianDate);
                    document.getElementById('dayName').value = dayName;
                }
            }
            
            getDayNameArabic(date) {
                const days = {
                    0: "Ø§Ù„Ø£Ø­Ø¯",
                    1: "Ø§Ù„Ø§Ø«Ù†ÙŠÙ†",
                    2: "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", 
                    3: "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡",
                    4: "Ø§Ù„Ø®Ù…ÙŠØ³",
                    5: "Ø§Ù„Ø¬Ù…Ø¹Ø©",
                    6: "Ø§Ù„Ø³Ø¨Øª"
                };
                return days[date.getDay()];
            }
            
            checkCapacity() {
                const totalAnimals = parseInt(document.getElementById('maleQty').value || 0) + 
                                    parseInt(document.getElementById('femaleQty').value || 0);
                const capacity = parseInt(document.getElementById('capacity').value || 0);
                
                const alertLabel = document.getElementById('alertLabel');
                
                if (capacity > 0 && totalAnimals > capacity) {
                    alertLabel.textContent = `âš ï¸ ØªÙ†Ø¨ÙŠÙ‡: Ø§Ù„Ø¹Ø¯Ø¯ ${totalAnimals} ÙŠØªØ¬Ø§ÙˆØ² Ø§Ù„Ø³Ø¹Ø© ${capacity}`;
                    alertLabel.style.display = 'block';
                } else {
                    alertLabel.style.display = 'none';
                }
            }
            
            setAutoBarnNumber() {
                const nextNumber = this.getNextBarnNumber();
                const barnNumberSelect = document.getElementById('barnNumber');
                
                for (let i = 0; i < barnNumberSelect.options.length; i++) {
                    if (barnNumberSelect.options[i].value === nextNumber) {
                        barnNumberSelect.selectedIndex = i;
                        break;
                    }
                }
                
                this.updateBarnData();
            }
            
            getNextBarnNumber() {
                if (this.barns.length === 0) return "1";
                
                const lastBarn = this.barns.reduce((prev, current) => 
                    (parseInt(prev.Ø±Ù‚Ù…_Ø§Ù„Ø­Ø¸ÙŠØ±Ø©) > parseInt(current.Ø±Ù‚Ù…_Ø§Ù„Ø­Ø¸ÙŠØ±Ø©)) ? prev : current
                );
                
                return (parseInt(lastBarn.Ø±Ù‚Ù…_Ø§Ù„Ø­Ø¸ÙŠØ±Ø©) + 1).toString();
            }
            
            clearFields() {
                this.selectedId = null;
                this.setAutoBarnNumber();
                document.getElementById('barnName').value = '';
                document.getElementById('animalType').selectedIndex = 0;
                this.updateAnimalTypes();
                document.getElementById('location').selectedIndex = 0;
                document.getElementById('maleQty').value = '0';
                document.getElementById('femaleQty').value = '0';
                document.getElementById('totalQuantity').value = '0';
                document.getElementById('gregorianDate').value = new Date().toISOString().split('T')[0];
                document.getElementById('supervisor').selectedIndex = 0;
                document.getElementById('unitPrice').value = '1'; // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ù„Ù‰ 1
                document.getElementById('totalPrice').value = '';
                document.getElementById('alertLabel').style.display = 'none';
                
                this.updateHijriDate();
                this.updateDayName();
            }
            
            saveBarn() {
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                if (!document.getElementById('barnName').value.trim()) {
                    alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø­Ø¸ÙŠØ±Ø©.');
                    return;
                }
                
                if (parseInt(document.getElementById('totalQuantity').value) === 0) {
                    alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ…ÙŠØ© Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª.');
                    return;
                }
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙØ±Ø¯ÙŠ (Ø§Ù„Ø¢Ù† Ù‡Ùˆ Ø±Ù‚Ù… Ù…Ø¨Ø§Ø´Ø±Ø©)
                const unitPrice = parseInt(document.getElementById('unitPrice').value) || 0;
                if (unitPrice < 1) {
                    alert('Ø§Ù„Ø³Ø¹Ø± Ø§Ù„ÙØ±Ø¯ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 1 Ø£Ùˆ Ø£ÙƒØ«Ø±.');
                    document.getElementById('unitPrice').focus();
                    return;
                }
                
                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                const totalAnimals = parseInt(document.getElementById('totalQuantity').value);
                const capacity = parseInt(document.getElementById('capacity').value);
                const alertFlag = totalAnimals > capacity && capacity > 0;
                const totalPrice = unitPrice * totalAnimals;
                
                const barnData = {
                    Ø±Ù‚Ù…_Ø§Ù„Ø­Ø¸ÙŠØ±Ø©: document.getElementById('barnNumber').value,
                    Ø§Ø³Ù…_Ø§Ù„Ø­Ø¸ÙŠØ±Ø©: document.getElementById('barnName').value,
                    Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨: capacity,
                    Ø§Ù„ØµÙ†Ù: document.getElementById('animalType').value,
                    Ø§Ù„Ù†ÙˆØ¹: document.getElementById('gender').value,
                    Ø§Ù„Ù…ÙˆÙ‚Ø¹: document.getElementById('location').value,
                    Ø¹Ø¯Ø¯_Ø°ÙƒÙˆØ±: parseInt(document.getElementById('maleQty').value),
                    Ø¹Ø¯Ø¯_Ø¥Ù†Ø§Ø«: parseInt(document.getElementById('femaleQty').value),
                    Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: totalAnimals,
                    ØªØ§Ø±ÙŠØ®_Ø§Ù„Ù‡Ø¬Ø±ÙŠ: document.getElementById('hijriDate').value,
                    ØªØ§Ø±ÙŠØ®_Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ: document.getElementById('gregorianDate').value,
                    Ø§Ù„Ù…Ø´Ø±Ù: document.getElementById('supervisor').value,
                    Ø§Ù„Ø³Ø¹Ø±_Ø§Ù„ÙØ±Ø¯ÙŠ: unitPrice, // Ø§Ù„Ø¢Ù† Ù‡Ùˆ Ø±Ù‚Ù… Ù…Ø¨Ø§Ø´Ø±Ø©
                    Ø¥Ø¬Ù…Ø§Ù„ÙŠ_Ø§Ù„Ø³Ø¹Ø±: totalPrice,
                    Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡: alertFlag,
                    ØªØ§Ø±ÙŠØ®_Ø§Ù„Ø¥Ø¶Ø§ÙØ©: new Date().toISOString()
                };
                
                try {
                    // Ø¥Ø¶Ø§ÙØ© Ø­Ø¸ÙŠØ±Ø© Ø¬Ø¯ÙŠØ¯Ø© ÙÙ‚Ø· (Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ¹Ø¯ÙŠÙ„)
                    barnData.id = Date.now().toString();
                    this.barns.push(barnData);
                    
                    // Ø­ÙØ¸ ÙÙŠ localStorage
                    localStorage.setItem('barns', JSON.stringify(this.barns));
                    
                    alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø¸ÙŠØ±Ø© Ø¨Ù†Ø¬Ø§Ø­!');
                    this.clearFields();
                    this.loadData();
                    
                } catch (error) {
                    alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸: ' + error.message);
                }
            }
            
            loadData() {
                const tableBody = document.getElementById('barnsTableBody');
                tableBody.innerHTML = '';
                
                this.barns.forEach(barn => {
                    const row = document.createElement('tr');
                    
                    // Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙ
                    const columns = [
                        barn.Ø±Ù‚Ù…_Ø§Ù„Ø­Ø¸ÙŠØ±Ø©,
                        barn.Ø§Ø³Ù…_Ø§Ù„Ø­Ø¸ÙŠØ±Ø©,
                        barn.ØªØ§Ø±ÙŠØ®_Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ,
                        barn.Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨,
                        barn.Ø§Ù„ØµÙ†Ù,
                        this.getDayMonth(barn.ØªØ§Ø±ÙŠØ®_Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ),
                        barn.Ø§Ù„Ù†ÙˆØ¹,
                        barn.Ø§Ù„Ù…ÙˆÙ‚Ø¹,
                        barn.Ø¹Ø¯Ø¯_Ø°ÙƒÙˆØ±,
                        barn.Ø¹Ø¯Ø¯_Ø¥Ù†Ø§Ø«,
                        barn.Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ,
                        this.formatPrice(barn.Ø§Ù„Ø³Ø¹Ø±_Ø§Ù„ÙØ±Ø¯ÙŠ),
                        this.formatPrice(barn.Ø¥Ø¬Ù…Ø§Ù„ÙŠ_Ø§Ù„Ø³Ø¹Ø±)
                    ];
                    
                    columns.forEach((value, index) => {
                        const cell = document.createElement('td');
                        cell.textContent = value;
                        
                        // ØªÙ„ÙˆÙŠÙ† Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„Ø¹Ø¯Ø¯ÙŠØ©
                        if ([3, 8, 9, 10].includes(index)) {
                            cell.style.backgroundColor = '#f8f9fa';
                            cell.style.textAlign = 'center';
                            cell.style.fontWeight = 'bold';
                            
                            // ØªÙƒØ¨ÙŠØ± Ø®Ø· Ø§Ù„Ø§Ø³ØªÙŠØ¹Ø§Ø¨ ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø£ÙŠØ¶Ø§Ù‹
                            if (index === 3) {
                                cell.style.fontSize = '14pt';
                                cell.style.color = '#16a085';
                                cell.style.background = 'linear-gradient(to bottom, #e8f6f3, #d1f2eb)';
                            }
                        }
                        
                        row.appendChild(cell);
                    });
                    
                    tableBody.appendChild(row);
                });
                
                this.updateStatistics();
            }
            
            updateStatistics() {
                const totalBarns = this.barns.length;
                const totalAnimals = this.barns.reduce((sum, barn) => sum + (barn.Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ || 0), 0);
                
                document.getElementById('totalBarns').textContent = `Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¸Ø§Ø¦Ø±: ${totalBarns}`;
                document.getElementById('totalAnimals').textContent = `Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª: ${totalAnimals}`;
            }
            
            getDayMonth(dateValue) {
                if (!dateValue) return "";
                try {
                    const date = new Date(dateValue);
                    return `${date.getDate()}/${date.getMonth() + 1}`;
                } catch (error) {
                    return "";
                }
            }
            
            formatPrice(priceValue) {
                if (!priceValue) return "0.00 Ø±ÙŠØ§Ù„";
                try {
                    return `${parseFloat(priceValue).toFixed(2)} Ø±ÙŠØ§Ù„`;
                } catch (error) {
                    return "0.00 Ø±ÙŠØ§Ù„";
                }
            }
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', () => {
            new BarnApp();
        });
    </script>
</body>
</html>